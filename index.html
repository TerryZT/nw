<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All-Subject English Enlightenment</title>
    <link rel="stylesheet" href="style.css">
    <script src="db.js"></script>
    <script src="auth.js"></script>
    <script src="index.js"></script>
    <script src="copyright.js"></script>
</head>
<body>
    <div class="theme-switcher">
        <button class="admin-btn" title="ç®¡ç†å…¥å£" id="adminLoginBtn">ç®¡ç†å…¥å£</button>
        <button class="theme-btn high-contrast" title="é«˜å¯¹æ¯”åº¦æ¨¡å¼" data-theme="high-contrast-theme">ğŸŒ˜</button>
        <button class="theme-btn soft" title="æŸ”å’Œæ¨¡å¼" data-theme="soft-theme">ğŸŒ¤</button>
        <button class="theme-btn warm" title="å¤œé—´æ¨¡å¼" data-theme="warm-theme">ğŸŒ™</button>
        <button class="theme-btn system" title="ç³»ç»Ÿæ¨¡å¼" data-theme="light-theme">ğŸ’»</button>
        <button class="theme-btn gradient" title="æ¸å˜æ¨¡å¼" data-theme="gradient-theme">ğŸŒˆ</button>
    </div>

    <!-- ç™»å½•å¼¹çª— -->
    <div class="login-container" id="loginContainer">
        <div class="login-box">
            <button class="close-btn" onclick="hideLoginForm()">Ã—</button>
            <h2>ç®¡ç†å‘˜ç™»å½•</h2>
            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <input type="text" id="username" name="username" placeholder="ç”¨æˆ·å" required>
                </div>
                <div class="form-group">
                    <input type="password" id="password" name="password" placeholder="å¯†ç " required>
                </div>
                <button type="submit" class="login-btn">ç™»å½•</button>
            </form>
        </div>
    </div>
    <div class="container">
        <header>
            <div class="logo-container">
                <img src="logo.svg" alt="ç½‘ç«™Logo" class="site-logo" onerror="this.src='default-icon.svg'">
            </div>
            <h1>Hello</h1>
            <h2>Welcome to All-Subject English Enlightenment</h2>
            <p class="subtitle">ç³»ç»Ÿï¼ˆå¹³å°ï¼‰ç”± Erin è‹±è¯­å…¨ç§‘å¯è’™å›¢é˜Ÿç‹¬ç«‹å¼€å‘å®Œæˆ</p>
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="æœç´¢...">
                <div id="searchResults" class="search-results" style="display: none;">
                    <div class="search-results-header">
                        <h3 class="search-results-title">æœç´¢ç»“æœ</h3>
                        <p class="search-results-count">æ‰¾åˆ° <span id="resultCount">0</span> ä¸ªåŒ¹é…é¡¹</p>
                    </div>
                    <div id="resultCategories"></div>
                </div>
            </div>
        </header>

        <section class="nav-section" id="commonSites" data-category="å¸¸ç”¨ç½‘ç«™">
            <h3>â­ å¸¸ç”¨ç½‘ç«™</h3>
            <div class="card-container">
                <a href="https://linux.do" class="card" data-keywords="linuxç³»ç»Ÿç¤¾åŒº">
                    <img src="icons/linux.svg" alt="Linux.do">
                    <h4>Linux.do</h4>
                    <p>ç³»ç»ŸæŠ€æœ¯ç¤¾åŒº</p>
                </a>
                <a href="https://google.com" class="card" data-keywords="å…¨çƒæœ€å¤§æœç´¢å¼•æ“">
                    <img src="icons/google.svg" alt="Google">
                    <h4>Google</h4>
                    <p>å…¨çƒæœ€å¤§æœç´¢å¼•æ“</p>
                </a>
                <a href="https://github.com" class="card" data-keywords="ä»£ç æ‰˜ç®¡å¹³å°">
                    <img src="icons/github.svg" alt="GitHub">
                    <h4>GitHub</h4>
                    <p>ä»£ç æ‰˜ç®¡å¹³å°</p>
                </a>
                <a href="https://stackoverflow.com" class="card" data-keywords="ç¨‹åºå‘˜é—®ç­”ç¤¾åŒº">
                    <img src="icons/stackoverflow.svg" alt="Stack Overflow">
                    <h4>Stack Overflow</h4>
                    <p>ç¨‹åºå‘˜é—®ç­”ç¤¾åŒº</p>
                </a>
                <a href="https://chat.openai.com" class="card" data-keywords="AIæ™ºèƒ½åŠ©æ‰‹">
                    <img src="icons/chatgpt.svg" alt="ChatGPT">
                    <h4>ChatGPT</h4>
                    <p>AIæ™ºèƒ½åŠ©æ‰‹</p>
                </a>
            </div>
        </section>

        <section class="nav-section" id="learningResources" data-category="å­¦ä¹ èµ„æº">
            <h3>ğŸ“š å­¦ä¹ èµ„æº</h3>
            <div class="card-container">
                <a href="https://www.imooc.com" class="card" data-keywords="è§†é¢‘å­¦ä¹ å¹³å°">
                    <img src="icons/imooc.svg" alt="æ…•è¯¾ç½‘">
                    <h4>æ…•è¯¾ç½‘</h4>
                    <p>è§†é¢‘å­¦ä¹ å¹³å°</p>
                </a>
                <a href="https://www.zhihu.com" class="card" data-keywords="é—®ç­”ç¤¾åŒº">
                    <img src="icons/zhihu.svg" alt="çŸ¥ä¹">
                    <h4>çŸ¥ä¹</h4>
                    <p>é—®ç­”ç¤¾åŒº</p>
                </a>
                <a href="https://juejin.cn" class="card" data-keywords="é«˜è´¨é‡æŠ€æœ¯ç¤¾åŒº">
                    <img src="icons/juejin.svg" alt="æ˜é‡‘">
                    <h4>æ˜é‡‘</h4>
                    <p>é«˜è´¨é‡æŠ€æœ¯ç¤¾åŒº</p>
                </a>
                <a href="https://leetcode.com" class="card" data-keywords="ç®—æ³•åˆ·é¢˜å¹³å°">
                    <img src="icons/leetcode.svg" alt="LeetCode">
                    <h4>LeetCode</h4>
                    <p>ç®—æ³•åˆ·é¢˜å¹³å°</p>
                </a>
            </div>
        </section>

        <section class="nav-section" id="devTools">
            <h3>ğŸ›  å¼€å‘å·¥å…·</h3>
            <div class="card-container">
                <a href="https://code.visualstudio.com" class="card" data-keywords="å¼ºå¤§çš„ä»£ç ç¼–è¾‘å™¨">
                    <img src="icons/vscode.svg" alt="VS Code">
                    <h4>VS Code</h4>
                    <p>å¼ºå¤§çš„ä»£ç ç¼–è¾‘å™¨</p>
                </a>
                <a href="https://www.postman.com" class="card" data-keywords="APIæµ‹è¯•å·¥å…·">
                    <img src="icons/postman.svg" alt="Postman">
                    <h4>Postman</h4>
                    <p>APIæµ‹è¯•å·¥å…·</p>
                </a>
                <a href="https://git-scm.com" class="card" data-keywords="ç‰ˆæœ¬æ§åˆ¶å·¥å…·">
                    <img src="icons/git.svg" alt="Git">
                    <h4>Git</h4>
                    <p>ç‰ˆæœ¬æ§åˆ¶å·¥å…·</p>
                </a>
                <a href="https://www.docker.com" class="card" data-keywords="å®¹å™¨åŒ–å¹³å°">
                    <img src="icons/docker.svg" alt="Docker">
                    <h4>Docker</h4>
                    <p>å®¹å™¨åŒ–å¹³å°</p>
                </a>
            </div>
        </section>

        <section class="nav-section" id="designResources">
            <h3>ğŸ¨ è®¾è®¡èµ„æº</h3>
            <div class="card-container">
                <a href="https://www.figma.com" class="card" data-keywords="åœ¨çº¿è®¾è®¡å·¥å…·">
                    <img src="icons/figma.svg" alt="Figma">
                    <h4>Figma</h4>
                    <p>åœ¨çº¿è®¾è®¡å·¥å…·</p>
                </a>
                <a href="https://dribbble.com" class="card" data-keywords="è®¾è®¡å¸ˆç¤¾åŒº">
                    <img src="icons/dribbble.svg" alt="Dribbble">
                    <h4>Dribbble</h4>
                    <p>è®¾è®¡å¸ˆç¤¾åŒº</p>
                </a>
                <a href="https://www.behance.net" class="card" data-keywords="åˆ›æ„è®¾è®¡å¹³å°">
                    <img src="icons/behance.svg" alt="Behance">
                    <h4>Behance</h4>
                    <p>åˆ›æ„è®¾è®¡å¹³å°</p>
                </a>
                <a href="https://iconfont.cn" class="card" data-keywords="å›¾æ ‡èµ„æºåº“">
                    <img src="icons/iconfont.svg" alt="IconFont">
                    <h4>IconFont</h4>
                    <p>å›¾æ ‡èµ„æºåº“</p>
                </a>
            </div>
        </section>

        <section class="nav-section" id="onlineTools">
            <h3>ğŸ”§ åœ¨çº¿å·¥å…·</h3>
            <div class="card-container">
                <a href="https://jsoneditoronline.org" class="card" data-keywords="JSONåœ¨çº¿ç¼–è¾‘å™¨">
                    <img src="icons/json.svg" alt="JSON Editor">
                    <h4>JSON Editor</h4>
                    <p>JSONåœ¨çº¿ç¼–è¾‘å™¨</p>
                </a>
                <a href="https://caniuse.com" class="card" data-keywords="æµè§ˆå™¨å…¼å®¹æ€§æŸ¥è¯¢">
                    <img src="icons/caniuse.svg" alt="Can I Use">
                    <h4>Can I Use</h4>
                    <p>æµè§ˆå™¨å…¼å®¹æ€§æŸ¥è¯¢</p>
                </a>
                <a href="https://tinypng.com" class="card" data-keywords="å›¾ç‰‡å‹ç¼©å·¥å…·">
                    <img src="icons/tinypng.svg" alt="TinyPNG">
                    <h4>TinyPNG</h4>
                    <p>å›¾ç‰‡å‹ç¼©å·¥å…·</p>
                </a>
                <a href="https://carbon.now.sh" class="card" data-keywords="ä»£ç å›¾ç‰‡ç”Ÿæˆå™¨">
                    <img src="icons/carbon.svg" alt="Carbon">
                    <h4>Carbon</h4>
                    <p>ä»£ç å›¾ç‰‡ç”Ÿæˆå™¨</p>
                </a>
            </div>
        </section>
    </div>
    <footer class="site-footer">
        <p>Â© 2024 All-Subject English Enlightenment. ç”± <a href="https://github.com/yourusername" target="_blank">Terry</a> å¼€å‘å’Œç»´æŠ¤</p>
    </footer>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½
            const themeBtns = document.querySelectorAll('.theme-btn');
            const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');
            
            // ä»æœ¬åœ°å­˜å‚¨åŠ è½½ä¸»é¢˜
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                document.body.className = savedTheme;
                themeBtns.forEach(btn => {
                    btn.classList.toggle('active', btn.dataset.theme === savedTheme);
                });
            } else if (prefersDarkScheme.matches) {
                document.body.className = '';
                themeBtns.forEach(btn => {
                    btn.classList.toggle('active', btn.dataset.theme === '');
                });
            }
            
            // ä¸»é¢˜åˆ‡æ¢äº‹ä»¶ç›‘å¬
            themeBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const theme = btn.dataset.theme;
                    document.body.className = theme;
                    localStorage.setItem('theme', theme);
                    
                    // æ›´æ–°æŒ‰é’®æ¿€æ´»çŠ¶æ€
                    themeBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                });
            });
            
            // ç›‘å¬ç³»ç»Ÿä¸»é¢˜å˜åŒ–
            prefersDarkScheme.addEventListener('change', (e) => {
                if (!localStorage.getItem('theme')) {
                    document.body.className = e.matches ? '' : 'light-theme';
                }
            });


            const searchInput = document.getElementById('searchInput');
            const cards = document.querySelectorAll('.card');
            const sections = document.querySelectorAll('.nav-section');
            const searchResults = document.getElementById('searchResults');
            const resultCategories = document.getElementById('resultCategories');

            // æœç´¢åŠŸèƒ½
            searchInput.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();

                // æ¸…ç©ºç°æœ‰çš„æœç´¢ç»“æœ
                resultCategories.innerHTML = '';

                if (!searchTerm) {
                    // æ˜¾ç¤ºæ‰€æœ‰åˆ†ç±»å’Œå¡ç‰‡
                    sections.forEach(section => section.style.display = 'block');
                    cards.forEach(card => card.style.display = 'flex');
                    searchResults.style.display = 'none';
                    return;
                }

                // éšè—æ‰€æœ‰åˆ†ç±»
                sections.forEach(section => section.style.display = 'none');

                // åˆ›å»ºå¡ç‰‡å®¹å™¨
                const cardContainer = document.createElement('div');
                cardContainer.className = 'card-container';

                // æœç´¢åŒ¹é…çš„å¡ç‰‡
                let matchedCards = [];
                cards.forEach(card => {
                    const keywords = card.getAttribute('data-keywords').toLowerCase();
                    const title = card.querySelector('h4').textContent.toLowerCase();
                    const description = card.querySelector('p').textContent.toLowerCase();

                    if (keywords.includes(searchTerm) || 
                        title.includes(searchTerm) || 
                        description.includes(searchTerm)) {
                        const clonedCard = card.cloneNode(true);
                        cardContainer.appendChild(clonedCard);
                        matchedCards.push(clonedCard);
                    }
                });

                // æ›´æ–°æœç´¢ç»“æœè®¡æ•°
                const resultCount = document.getElementById('resultCount');
                resultCount.textContent = matchedCards.length;

                // æ›´æ–°æœç´¢ç»“æœæ˜¾ç¤º
                searchResults.style.display = 'block';

                // æ·»åŠ æœç´¢ç»“æœåˆ°å®¹å™¨
                if (matchedCards.length > 0) {
                    resultCategories.appendChild(cardContainer);
                } else {
                    resultCategories.innerHTML = '<p class="no-results">æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„ç»“æœ</p>';
                }
            });
        });
    </script>
</body>
</html>